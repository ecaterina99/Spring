<!DOCTYPE html>
<html>
<div th:insert="~{/fragments/common_fragments :: head}"></div>
<body class="bg-light py-4">

<main class="container">
    <div class="register-card shadow-lg rounded-3">
        <div class="card-body">
            <form th:action="@{/auth/process-register}" th:object="${user}" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                <h1 class="fw-bold text-center fs-2 p-4">Create an Account</h1>

                <fieldset class="border rounded-3 p-4">
                    <legend class="fw-bold fs-5">Personal info</legend>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="firstName" class="form-label fw-bold">First name:</label>
                            <!-- ИСПРАВЛЕНО: правильное имя поля и привязка -->
                            <input type="text" th:field="*{firstName}" id="firstName" class="form-control">
                            <div th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="text-danger"></div>
                        </div>
                        <div class="col-md-6">
                            <label for="lastName" class="form-label fw-bold">Last name:</label>
                            <!-- ИСПРАВЛЕНО: правильное имя поля и привязка -->
                            <input type="text" th:field="*{lastName}" id="lastName" class="form-control">
                            <div th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="text-danger"></div>
                        </div>

                        <div class="col-md-6">
                            <label for="country" class="form-label fw-bold">Country:</label>
                            <input type="text" th:field="*{country}" id="country" class="form-control">
                            <div th:if="${#fields.hasErrors('country')}" th:errors="*{country}" class="text-danger"></div>
                        </div>
                        <div class="col-md-6">
                            <label for="city" class="form-label fw-bold">City:</label>
                            <input type="text" th:field="*{city}" id="city" class="form-control">
                            <div th:if="${#fields.hasErrors('city')}" th:errors="*{city}" class="text-danger"></div>
                        </div>

                        <div class="col-md-6">
                            <label for="address" class="form-label fw-bold">Address:</label>
                            <input type="text" th:field="*{address}" id="address" class="form-control">
                            <div th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="text-danger"></div>
                        </div>
                        <div class="col-md-6">
                            <label for="postalCode" class="form-label fw-bold">Postal code:</label>
                            <input type="text" th:field="*{postalCode}" id="postalCode" class="form-control">
                            <div th:if="${#fields.hasErrors('postalCode')}" th:errors="*{postalCode}" class="text-danger"></div>
                        </div>

                        <div class="col-md-6">
                            <label for="phone" class="form-label fw-bold">Phone:</label>
                            <input type="text" th:field="*{phone}" id="phone" class="form-control">
                            <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger"></div>
                        </div>
                        <div class="col-md-6">
                            <label for="email" class="form-label fw-bold">Email:</label>
                            <input type="email" th:field="*{email}" id="email" class="form-control">
                            <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></div>
                        </div>

                        <div class="col-12">
                            <label for="password" class="form-label fw-bold">Password (at least 6 characters):</label>
                            <input type="password" th:field="*{password}" id="password" class="form-control">
                            <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger"></div>
                        </div>
                    </div>
                    <div class="d-grid p-4">
                        <button type="submit" class="btn-send">
                            SUBMIT
                        </button>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</main>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>