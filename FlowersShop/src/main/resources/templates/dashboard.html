<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cart</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
</head>

<body>
<header>
    <div class="top-bar">
        <div class="delivery">Home delivery available in Romania | Free returns</div>
        <div class="user">
               <span th:if="${isAuthenticated == true and fullName != null and role != 'admin'}">
                Welcome, <span th:text="${fullName}"></span>!
                <a th:href="@{/auth/logout}" class="logout-link">Logout</a> |
                <a th:href="@{/cart}" class="cart-link">Cart</a>
            </span>
            <span th:if="${isAuthenticated == true and fullName != null and role == 'admin'}">
                Welcome, <span th:text="${fullName}"></span>!
                <a th:href="@{/auth/logout}" class="logout-link">Logout</a> |
                <a th:href="@{/admin/dashboard}" class="dashboard-link">Dashboard</a>
            </span>
            <span th:if="${isAuthenticated == false or isAuthenticated == null}">
                <a th:href="@{/auth/login}">Log in</a> |
                <a th:href="@{/auth/register}">Register</a> |
                <a th:href="@{/cart}" class="cart-link">Cart</a>
            </span>
        </div>
    </div>
    <div class="logo">Peony Bloom</div>
</header>

<main>
    <nav>
        <div class="category">
            <a th:href="@{/home}">About us</a>
        </div>
        <div class="category">
            <a th:href="@{product/bouquets}">Bouquets</a>
        </div>
        <div class="category">
            <a th:href="@{/main/plants}">Plants</a>
        </div>
        <div class="category">
            <a th:href="@{/main/gifts}">Gifts</a>
        </div>
        <div class="category">
            <a th:href="@{contact}">Contact</a>
        </div>
    </nav>


    <div class="admin-container">

        <div class="admin-panel">
            <h1 class="titlePage">Dashboard</h1>
            <div class="intro-text">
            Welcome to admin-panel!
        </div>
        </div>

        <div class="dashboard-cards">
            <div class="dashboard-card">
                <h4>TOTAL PRODUCTS</h4>
                <div class="number" id="totalProducts">[[${allProducts.size()}]]</div>
            </div>
            <div class="dashboard-card">
                <h4>TODAY SALES</h4>
                <div class="number" id="todaySales">[[${allSales.size()}]]</div>
            </div>
            <div class="dashboard-card">
                <h4>TOTAL USERS</h4>
                <div class="number" id="totalUsers">[[${allUsers.size()}]]</div>
            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                console.log('Admin dashboard loaded successfully');
            });
        </script>

        <div class="quick-actions">
            <h3> Quick actions</h3>
            <div class="action-buttons">
                <a th:href="@{/product/}" class="action-btn">all products</a>
                <a th:href="@{/product/add}" class="action-btn">add product</a>
                <a th:href="@{/product/}" class="action-btn">update product </a>
                <a th:href="@{/product/}" class="action-btn">delete product</a>
                <a th:href="@{/sale/}" class="action-btn">list of sales</a>
                <a th:href="@{/user/}" class="action-btn">list of customers</a>
            </div>
        </div>

    </div>




</main>
<footer class="footer">
    Copyright Â© PEONY GROUP
</footer>
</body>
</html>